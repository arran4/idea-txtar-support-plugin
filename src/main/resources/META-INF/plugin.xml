<idea-plugin url="https://github.com/arran4/idea-txtar-support-plugin">
    <id>com.arran4.txtar</id>
    <name>txtar file support</name>
    <version>1.0.0</version>
    <vendor url="https://github.com/arran4/">arran-ubels</vendor>

    <!-- Product and plugin compatibility requirements -->
    <!-- https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <description><![CDATA[
    Support for the txtar file format.
    <br>
    Features:
    <ul>
        <li>File Type Recognition: Automatically recognizes .txtar files.</li>
        <li>Syntax Highlighting: Basic syntax highlighting for txtar archives.</li>
        <li>Folding: Code folding support for file entries in the archive.</li>
        <li>Editor Actions: Append new file, append from external file, remove file, append from clipboard.</li>
    </ul>
    ]]></description>

    <change-notes><![CDATA[
    <ul>
        <li>File Type Recognition: Automatically recognizes .txtar files.</li>
        <li>Syntax Highlighting: Basic syntax highlighting for txtar archives.</li>
        <li>Folding: Code folding support for file entries in the archive.</li>
        <li>Editor Actions: Append new file, append from external file, remove file, append from clipboard.</li>
    </ul>
    ]]></change-notes>

    <extensions defaultExtensionNs="com.intellij">
        <fileType
            name="Txtar"
            implementationClass="com.arran4.txtar.TxtarFileType"
            fieldName="INSTANCE"
            language="Txtar"
            extensions="txtar"/>
        <lang.parserDefinition
            language="Txtar"
            implementationClass="com.arran4.txtar.TxtarParserDefinition"/>
        <lang.syntaxHighlighterFactory
            language="Txtar"
            implementationClass="com.arran4.txtar.TxtarSyntaxHighlighterFactory"/>
        <lang.foldingBuilder
            language="Txtar"
            implementationClass="com.arran4.txtar.TxtarFoldingBuilder"/>
    </extensions>

    <actions>
        <action id="Txtar.NewFile" class="com.arran4.txtar.CreateTxtarFileAction" text="Txtar File" description="Create new Txtar file">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
        <group id="Txtar.EditorActions" text="Txtar" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <action id="Txtar.AppendNewFile" class="com.arran4.txtar.AppendNewFileAction" text="Append New File" description="Append a new file entry"/>
            <action id="Txtar.AppendFile" class="com.arran4.txtar.AppendFileAction" text="Append File..." description="Append content of an external file"/>
            <action id="Txtar.RemoveFile" class="com.arran4.txtar.RemoveFileAction" text="Remove File" description="Remove the file entry at caret"/>
            <action id="Txtar.ReorderFiles" class="com.arran4.txtar.ReorderFilesAction" text="Reorder Files..." description="Reorder file entries"/>
            <action id="Txtar.CalculateFileSize" class="com.arran4.txtar.CalculateFileSizeAction" text="Calculate File Size" description="Calculate size of file"/>
            <action id="Txtar.ExtractFile" class="com.arran4.txtar.ExtractFileAction" text="Extract File..." description="Extract file / save file as"/>
            <action id="Txtar.CopyFileToClipboard" class="com.arran4.txtar.CopyFileToClipboardAction" text="Copy File to Clipboard" description="Copy content of the file entry to clipboard"/>
            <action id="Txtar.AppendClipboard" class="com.arran4.txtar.AppendFromClipboardAction" text="Append New File from Clipboard" description="Append clipboard content as a new file entry"/>
            <separator/>
            <reference id="CollapseAll"/>
            <reference id="ExpandAll"/>
        </group>
    </actions>
</idea-plugin>
